<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>D3 Transitions</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>

 	</style>
</head>

<body>
    <button id="start">Transition</button>
    <button id="reset">Reset</button>   
	<div id="main">

	</div>
<script type="text/javascript">
    // Width and height of the SVG object
    let w = 350;
    let h = 175;
    //Make an SVG Container
    var svgContainer = 
    d3.select("div#main")
        .append("svg")
        .attr("width", 400)
        .attr("height", 200)
        .style("border-color", "black")
        .style("border-style", "solid")
        .style("border-width", "1px");
    // Draw the Rectangle
    var rectangle = 
    svgContainer.append("rect")
        .attr("x", 50)
        .attr("y", 50)
        .attr("width", 50)
        .attr("height", 50);
    // Set up the reset button to move it back to 50,50
    d3.select("#reset").on("click", function() {
        rectangle
        .transition()
        .attr("fill", "black")
        .attr("opacity", 1)
        .attr("width", 50)
        .attr("height", 100)
        .attr("x", 50) // Old Position
        .attr("y", 50)
        .duration(2500)
        .ease(d3.easeLinear);
        });

    d3.select("#start").on("click", function() {
        rectangle
        .transition()
        .attr("fill", "red")
        .attr("opacity", 0.5)
        .attr("width", 100)
        .attr("height", 100)
        .attr("x", 250) // New Position
        .duration(2500)
        .delay(100)
        .ease(d3.easeLinear)
        .on("end",function() { // on end of transition...
            d3.select(this)
            .transition() // second transition
            .attr("x", 150) // second x
            .attr("width", 75) // second width
            .attr("height", 75) // second height
            .attr("opacity", 0.75) // second opacity
            .attr("fill", "blue") // second color
            .delay(500) // second delay
            .duration(2500) // second time
            .ease(d3.easePolyIn); // second ease;
        })
    });
    
</script>
</body>
</html>
